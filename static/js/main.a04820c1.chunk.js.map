{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","user","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","link","name","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","handleCardLike","handleCardDelete","avatar","about","map","initionalCard","Footer","Date","getFullYear","PopupWithForm","title","isOpen","onClose","onEscClose","children","onSubmit","useEffect","handleEscapeClose","event","key","document","addEventListener","removeEventListener","noValidate","EditProfilePopup","onUpdateUser","useState","buttonSubmitText","setButtonSubmitText","setName","description","setDescription","inputNameErrorText","setInputNameErrorText","inputDescriptionErrorText","setInputDescriptionErrorText","inputNameValid","setInputNameValid","inputDescriptionValid","setInputDescriptionValid","formValid","setFormValid","submitButtonClassName","inputNameErrorClassName","inputNameClassName","inputDescriptionErrorClassName","inputDescriptionClassName","String","e","preventDefault","id","placeholder","required","minLength","maxLength","value","onChange","target","validity","valid","validationMessage","disabled","EditAvatarPopup","onUpdateAvatar","setAvatar","inputErrorText","setInputErrorText","inputValid","setInputValid","inputErrorClassName","inputClassName","AddPlacePopup","place","setPlace","setLink","inputPlaceErrorText","setInputPlaceErrorText","inputLinkErrorText","setInputLinkErrorText","inputPlaceValid","setInputPlaceValid","inputLinkValid","setInputLinkValid","inputPlaceErrorClassName","inputPlaceClassName","inputLinkErrorClassName","inputLinkClassName","ConfirmDeletePopup","onDeleteCard","ImagePopup","api","config","this","_url","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponse","method","body","JSON","stringify","cardId","authorization","App","currentUser","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopupOpen","selectedCard","setSelectedCard","setCards","cardToDelete","setCardToDelete","closeAllPopups","handleClick","classList","contains","all","getUser","getInitialCards","userData","cardsData","catch","err","console","error","Provider","choosenCard","deleteLikeCard","setLikeCard","newCard","newCards","c","finally","inputsValues","setUser","newAvatar","setUserAvatar","deleteCard","filter","setNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a04820c1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from 'react';\r\n\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img className=\"logo\" src={logo} alt=\"Место-логотип\" />\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\tconst user = React.useContext(CurrentUserContext);\r\n\tconst isOwn = card.owner._id === user._id;\r\n\r\n\tconst cardDeleteButtonClassName = `elements__delete-button ${isOwn\r\n\t\t? 'elements__delete-button_visible'\r\n\t\t: 'elements__delete-button_hidden'}`;\r\n\r\n\tconst isLiked = card.likes.some((i) => i._id === user._id);\r\n\tconst cardLikeButtonClassName = `elements__caption-like ${isLiked\r\n\t\t? 'elements__caption-like_color_black'\r\n\t\t: 'elements__caption-like_color_white'}`;\r\n\r\n\tfunction handleClick() {\r\n\t\tonCardClick(card);\r\n\t}\r\n\r\n\tfunction handleLikeClick() {\r\n\t\tonCardLike(card, isLiked);\r\n\t}\r\n\r\n\tfunction handleDeleteClick() {\r\n\t\tonCardDelete(card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<li className=\"elements__list-item\">\r\n\t\t\t<button className={cardDeleteButtonClassName} onClick={handleDeleteClick} />\r\n\t\t\t<img className=\"elements__image\" src={card.link} alt={card.name} onClick={handleClick} />\r\n\t\t\t<div className=\"elements__caption-space\">\r\n\t\t\t\t<h2 className=\"elements__caption\">{card.name}</h2>\r\n\t\t\t\t<div className=\"element__like-container\">\r\n\t\t\t\t\t<button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} />\r\n\t\t\t\t\t<p className=\"elements__likes-number\">{card.likes.length}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\tconst user = useContext(CurrentUserContext);\r\n\r\n\tfunction handleCardLike(card, isLiked) {\r\n\t\tonCardLike(card, isLiked);\r\n\t}\r\n\r\n\tfunction handleCardDelete(card) {\r\n\t\tonCardDelete(card);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<main>\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<div className=\"profile__avatar-container\" onClick={onEditAvatar}>\r\n\t\t\t\t\t<img className=\"profile__avatar\" src={user.avatar} alt=\"аватар\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t<h1 className=\"profile__title\">{user.name}</h1>\r\n\r\n\t\t\t\t\t<button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile} />\r\n\r\n\t\t\t\t\t<p className=\"profile__subtitle\">{user.about}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace} />\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"elements\">\r\n\t\t\t\t<ul className=\"elements__list\">\r\n\t\t\t\t\t{cards.map((initionalCard) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\tcard={initionalCard}\r\n\t\t\t\t\t\t\t\tonCardClick={onCardClick}\r\n\t\t\t\t\t\t\t\tkey={initionalCard._id}\r\n\t\t\t\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\t\t\t\tonCardDelete={handleCardDelete}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n\treturn (\r\n\t\t<footer className=\"footer\">\r\n\t\t\t<p className=\"footer__copyright\">© {new Date().getFullYear()} Mesto Russia</p>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nfunction PopupWithForm({ name, title, isOpen, onClose, onEscClose, children, onSubmit }) {\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!isOpen) return;\r\n\t\t\tconst handleEscapeClose = (event) => {\r\n\t\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tdocument.addEventListener('keydown', handleEscapeClose);\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('keydown', handleEscapeClose);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isOpen, onClose ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} onClick={onEscClose}>\r\n\t\t\t<div className=\"popup__content\">\r\n\t\t\t\t<button type=\"button\" className={`popup__close popup__close_place_${name}`} onClick={onClose} />\r\n\t\t\t\t<h2 className=\"popup__title\">{`${title}`}</h2>\r\n\r\n\t\t\t\t<form className=\"popup__form\" name={`${name}-form`} onSubmit={onSubmit} noValidate>\r\n\t\t\t\t\t<fieldset className=\"popup__form-set\">{children}</fieldset>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onEscClose, onUpdateUser }) {\r\n\tconst user = React.useContext(CurrentUserContext);\r\n\tconst [ buttonSubmitText, setButtonSubmitText ] = React.useState('Сохранить');\r\n\r\n\tconst [ name, setName ] = React.useState('');\r\n\tconst [ description, setDescription ] = React.useState('');\r\n\r\n\t// Переменные для валидации --------------------------------------------------------------------------------------------------------------\r\n\tconst [ inputNameErrorText, setInputNameErrorText ] = React.useState('Вы пропустили это поле.');\r\n\tconst [ inputDescriptionErrorText, setInputDescriptionErrorText ] = React.useState('Вы пропустили это поле.');\r\n\r\n\tconst [ inputNameValid, setInputNameValid ] = React.useState(true);\r\n\tconst [ inputDescriptionValid, setInputDescriptionValid ] = React.useState(true);\r\n\tconst [ formValid, setFormValid ] = React.useState(false);\r\n\r\n\tconst submitButtonClassName = `popup__submit ${formValid ? '' : 'popup__submit_disabled'}`;\r\n\r\n\tconst inputNameErrorClassName = `popup__input-error ${inputNameValid ? '' : 'popup__input-error_visible'}`;\r\n\tconst inputNameClassName = `popup__input popup__input_type_name ${inputNameValid ? '' : 'popup__input_type_error'}`;\r\n\r\n\tconst inputDescriptionErrorClassName = `popup__input-error ${inputDescriptionValid\r\n\t\t? ''\r\n\t\t: 'popup__input-error_visible'}`;\r\n\tconst inputDescriptionClassName = `popup__input popup__input_type_job ${inputDescriptionValid\r\n\t\t? ''\r\n\t\t: 'popup__input_type_error'}`;\r\n\r\n\t//----------------------------------------------------------------------------------------------------------------------\r\n\r\n\tfunction handleNameChange(e) {\r\n\t\tsetName(e.target.value);\r\n\r\n\t\tsetInputNameValid(e.target.validity.valid);\r\n\t\tsetInputNameErrorText(e.target.validationMessage);\r\n\r\n\t\tif (e.target.validity.valid && inputDescriptionValid && description !== '') {\r\n\t\t\tsetFormValid(true);\r\n\t\t} else {\r\n\t\t\tsetFormValid(false);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleDescriptionChange(e) {\r\n\t\tsetDescription(e.target.value);\r\n\r\n\t\tsetInputDescriptionValid(e.target.validity.valid);\r\n\t\tsetInputDescriptionErrorText(e.target.validationMessage);\r\n\r\n\t\tif (inputNameValid && e.target.validity.valid && name !== '') {\r\n\t\t\tsetFormValid(true);\r\n\t\t} else {\r\n\t\t\tsetFormValid(false);\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tif (!isOpen) {\r\n\t\t\t\tsetName(String(user.name));\r\n\t\t\t\tsetDescription(String(user.about));\r\n\t\t\t\tsetButtonSubmitText('Сохранить');\r\n\t\t\t\tsetInputNameValid(true);\r\n\t\t\t\tsetInputDescriptionValid(true);\r\n\t\t\t\tsetFormValid(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ user, isOpen ]\r\n\t);\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tsetButtonSubmitText('Сохранение...');\r\n\t\tonUpdateUser({ name: name, about: description });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"edit\"\r\n\t\t\ttitle=\"Редактировать профиль\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonEscClose={onEscClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<fieldset className=\"popup__form-set\">\r\n\t\t\t\t<label className=\"popup__form-field\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={inputNameClassName}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\tid=\"name-input\"\r\n\t\t\t\t\t\tplaceholder=\"Имя\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={handleNameChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={inputNameErrorClassName} id=\"name-input-error\">\r\n\t\t\t\t\t\t{inputNameErrorText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<label className=\"popup__form-field\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={inputDescriptionClassName}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\tid=\"job-input\"\r\n\t\t\t\t\t\tplaceholder=\"Профессия\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={handleDescriptionChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={inputDescriptionErrorClassName} id=\"job-input-error\">\r\n\t\t\t\t\t\t{inputDescriptionErrorText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<button className={submitButtonClassName} type=\"submit\" disabled={formValid ? false : true}>\r\n\t\t\t\t\t{buttonSubmitText}\r\n\t\t\t\t</button>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onEscClose, onUpdateAvatar }) {\r\n\tconst [ avatar, setAvatar ] = React.useState('');\r\n\r\n\tconst [ buttonSubmitText, setButtonSubmitText ] = React.useState('Сохранить');\r\n\tconst [ inputErrorText, setInputErrorText ] = React.useState('Вы пропустили это поле.');\r\n\r\n\tconst [ inputValid, setInputValid ] = React.useState(true);\r\n\tconst [ formValid, setFormValid ] = React.useState(false);\r\n\r\n\tconst submitButtonClassName = `popup__submit ${formValid ? '' : 'popup__submit_disabled'}`;\r\n\tconst inputErrorClassName = `popup__input-error ${inputValid ? '' : 'popup__input-error_visible'}`;\r\n\tconst inputClassName = `popup__input popup__input_type_avatar-link ${inputValid ? '' : 'popup__input_type_error'}`;\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tsetButtonSubmitText('Сохранение...');\r\n\t\tonUpdateAvatar({ avatar: avatar });\r\n\t}\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tif (isOpen === false) {\r\n\t\t\t\tsetAvatar('');\r\n\t\t\t\tsetButtonSubmitText('Сохранить');\r\n\t\t\t\tsetInputValid(true);\r\n\t\t\t\tsetFormValid(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ isOpen ]\r\n\t);\r\n\r\n\tfunction handleValidation(e) {\r\n\t\tsetAvatar(e.target.value);\r\n\r\n\t\tsetInputValid(e.target.validity.valid);\r\n\t\tsetInputErrorText(e.target.validationMessage);\r\n\r\n\t\tsetFormValid(e.target.validity.valid);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"avatar\"\r\n\t\t\ttitle=\"Обновить аватар\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonEscClose={onEscClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<fieldset className=\"popup__form-set\">\r\n\t\t\t\t<label className=\"popup__form-field\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={inputClassName}\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tname=\"avatar-link\"\r\n\t\t\t\t\t\tid=\"url-avatar-input\"\r\n\t\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={avatar}\r\n\t\t\t\t\t\tonChange={handleValidation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={inputErrorClassName} id=\"url-avatar-input-error\">\r\n\t\t\t\t\t\t{inputErrorText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<button className={submitButtonClassName} type=\"submit\" disabled={formValid ? false : true}>\r\n\t\t\t\t\t{buttonSubmitText}\r\n\t\t\t\t</button>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onEscClose, onAddPlace }) {\r\n\tconst [ place, setPlace ] = React.useState('');\r\n\tconst [ link, setLink ] = React.useState('');\r\n\tconst [ buttonSubmitText, setButtonSubmitText ] = React.useState('Создать');\r\n\r\n\t// Переменные для валидации --------------------------------------------------------------------------------------------------------------\r\n\tconst [ inputPlaceErrorText, setInputPlaceErrorText ] = React.useState('Вы пропустили это поле.');\r\n\tconst [ inputLinkErrorText, setInputLinkErrorText ] = React.useState('Вы пропустили это поле.');\r\n\r\n\tconst [ inputPlaceValid, setInputPlaceValid ] = React.useState(true);\r\n\tconst [ inputLinkValid, setInputLinkValid ] = React.useState(true);\r\n\tconst [ formValid, setFormValid ] = React.useState(false);\r\n\r\n\tconst submitButtonClassName = `popup__submit ${formValid ? '' : 'popup__submit_disabled'}`;\r\n\r\n\tconst inputPlaceErrorClassName = `popup__input-error ${inputPlaceValid ? '' : 'popup__input-error_visible'}`;\r\n\tconst inputPlaceClassName = `popup__input popup__input_type_place ${inputPlaceValid\r\n\t\t? ''\r\n\t\t: 'popup__input_type_error'}`;\r\n\r\n\tconst inputLinkErrorClassName = `popup__input-error ${inputLinkValid ? '' : 'popup__input-error_visible'}`;\r\n\tconst inputLinkClassName = `popup__input popup__input_type_link ${inputLinkValid ? '' : 'popup__input_type_error'}`;\r\n\r\n\t//-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\tfunction handlePlaceChange(e) {\r\n\t\tsetPlace(e.target.value);\r\n\r\n\t\tsetInputPlaceValid(e.target.validity.valid);\r\n\t\tsetInputPlaceErrorText(e.target.validationMessage);\r\n\r\n\t\tif (e.target.validity.valid && inputLinkValid && link !== '') {\r\n\t\t\tsetFormValid(true);\r\n\t\t} else {\r\n\t\t\tsetFormValid(false);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleLinkChange(e) {\r\n\t\tsetLink(e.target.value);\r\n\r\n\t\tsetInputLinkValid(e.target.validity.valid);\r\n\t\tsetInputLinkErrorText(e.target.validationMessage);\r\n\r\n\t\tif (inputPlaceValid && e.target.validity.valid && place !== '') {\r\n\t\t\tsetFormValid(true);\r\n\t\t} else {\r\n\t\t\tsetFormValid(false);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tsetButtonSubmitText('Создание...');\r\n\t\tonAddPlace({ place: place, link: link });\r\n\t}\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tif (isOpen === false) {\r\n\t\t\t\tsetPlace('');\r\n\t\t\t\tsetLink('');\r\n\t\t\t\tsetButtonSubmitText('Создать');\r\n\t\t\t\tsetInputPlaceValid(true);\r\n\t\t\t\tsetInputLinkValid(true);\r\n\t\t\t\tsetFormValid(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ isOpen ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"add\"\r\n\t\t\ttitle=\"Новое место\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonEscClose={onEscClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<fieldset className=\"popup__form-set\">\r\n\t\t\t\t<label className=\"popup__form-field\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={inputPlaceClassName}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"place\"\r\n\t\t\t\t\t\tid=\"place-input\"\r\n\t\t\t\t\t\tplaceholder=\"Название\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\t\t\tvalue={place}\r\n\t\t\t\t\t\tonChange={handlePlaceChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={inputPlaceErrorClassName} id=\"place-input-error\">\r\n\t\t\t\t\t\t{inputPlaceErrorText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<label className=\"popup__form-field\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={inputLinkClassName}\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\t\tid=\"url-input\"\r\n\t\t\t\t\t\tplaceholder=\"Ссылка на картинку\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tvalue={link}\r\n\t\t\t\t\t\tonChange={handleLinkChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className={inputLinkErrorClassName} id=\"url-input-error\">\r\n\t\t\t\t\t\t{inputLinkErrorText}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<button className={submitButtonClassName} type=\"submit\" disabled={formValid ? false : true}>\r\n\t\t\t\t\t{buttonSubmitText}\r\n\t\t\t\t</button>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, onEscClose, onDeleteCard }) {\r\n\tconst [ buttonSubmitText, setButtonSubmitText ] = React.useState('Да');\r\n\tfunction handleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tsetButtonSubmitText('Удаление...');\r\n\t\tonDeleteCard();\r\n\t}\r\n\r\n\tReact.useEffect(\r\n\t\t() => {\r\n\t\t\tif (isOpen === false) {\r\n\t\t\t\tsetButtonSubmitText('Да');\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ isOpen ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"confirm\"\r\n\t\t\ttitle=\"Вы уверены?\"\r\n\t\t\tisOpen={isOpen}\r\n\t\t\tonClose={onClose}\r\n\t\t\tonEscClose={onEscClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<fieldset className=\"popup__form-set\">\r\n\t\t\t\t<button className=\"popup__submit\" type=\"submit\">\r\n\t\t\t\t\t{buttonSubmitText}\r\n\t\t\t\t</button>\r\n\t\t\t</fieldset>\r\n\t\t</PopupWithForm>\r\n\t);\r\n}\r\n\r\nexport default ConfirmDeletePopup;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose, onEscClose }) {\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!isOpen) return;\r\n\t\t\tconst handleEscapeClose = (event) => {\r\n\t\t\t\tif (event.key === 'Escape') {\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tdocument.addEventListener('keydown', handleEscapeClose);\r\n\t\t\treturn () => {\r\n\t\t\t\tdocument.removeEventListener('keydown', handleEscapeClose);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ isOpen, onClose ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={`popup popup_type_image  ${isOpen && 'popup_opened'}`} onClick={onEscClose}>\r\n\t\t\t<figure className=\"popup__image-container\">\r\n\t\t\t\t<button type=\"button\" className=\"popup__close\" onClick={onClose} />\r\n\t\t\t\t<img className=\"popup__image\" src={`${card.link}`} alt={card.name} />\r\n\t\t\t\t<figcaption className=\"popup__image-caption\">{card.name}</figcaption>\r\n\t\t\t</figure>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n\tconstructor(config) {\r\n\t\tthis._url = config.baseUrl;\r\n\t\tthis._headers = config.headers;\r\n\t}\r\n\r\n\t_getResponse(res) {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t\treturn Promise.reject(`Ошибка: ${res.status}`);\r\n\t}\r\n\r\n\tgetInitialCards() {\r\n\t\treturn fetch(`${this._url}/cards`, {\r\n\t\t\theaders: this._headers\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tsetNewCard({ place, link }) {\r\n\t\treturn fetch(`${this._url}/cards`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: place,\r\n\t\t\t\tlink: link\r\n\t\t\t})\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tdeleteCard(cardId) {\r\n\t\treturn fetch(`${this._url}/cards/${cardId}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tsetLikeCard(cardId) {\r\n\t\treturn fetch(`${this._url}/cards/likes/${cardId}`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\theaders: this._headers\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tdeleteLikeCard(cardId) {\r\n\t\treturn fetch(`${this._url}/cards/likes/${cardId}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\theaders: this._headers\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tgetUser() {\r\n\t\treturn fetch(`${this._url}/users/me`, {\r\n\t\t\theaders: this._headers\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tsetUser({ name, about }) {\r\n\t\treturn fetch(`${this._url}/users/me`, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: name,\r\n\t\t\t\tabout: about\r\n\t\t\t})\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n\r\n\tsetUserAvatar({ avatar }) {\r\n\t\treturn fetch(`${this._url}/users/me/avatar`, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: this._headers,\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tavatar: avatar\r\n\t\t\t})\r\n\t\t}).then(this._getResponse);\r\n\t}\r\n}\r\n\r\nconst api = new Api({\r\n\tbaseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n\theaders: {\r\n\t\tauthorization: 'd4ad1f5c-6d3d-4923-9666-f0281ec3ce2e',\r\n\t\t'Content-Type': 'application/json'\r\n\t}\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport api from '../utils/api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n\tconst [ currentUser, setCurrentUser ] = useState({});\r\n\r\n\tconst [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = useState(false);\r\n\tconst [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = useState(false);\r\n\tconst [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = useState(false);\r\n\tconst [ isImagePopupOpen, setIsImagePopupOpen ] = useState(false);\r\n\tconst [ isConfirmDeletePopupOpen, setIsConfirmDeletePopupOpen ] = useState(false);\r\n\tconst [ selectedCard, setSelectedCard ] = useState({});\r\n\tconst [ cards, setCards ] = useState([]);\r\n\tconst [ cardToDelete, setCardToDelete ] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\tPromise.all([ api.getUser(), api.getInitialCards() ])\r\n\t\t\t.then(([ userData, cardsData ]) => {\r\n\t\t\t\tsetCurrentUser(userData);\r\n\t\t\t\tsetCards(cardsData);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n\t}\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n\t}\r\n\r\n\tfunction handleCardClick(choosenCard) {\r\n\t\tsetSelectedCard(choosenCard);\r\n\t\tsetIsImagePopupOpen(true);\r\n\t}\r\n\r\n\tfunction closeAllPopups() {\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n\t\tsetIsImagePopupOpen(false);\r\n\t\tsetIsConfirmDeletePopupOpen(false);\r\n\t\tsetSelectedCard({});\r\n\t}\r\n\r\n\tfunction handleClick(e) {\r\n\t\tif (e.target.classList.contains('popup')) {\r\n\t\t\tcloseAllPopups();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleUpdateUser(inputsValues) {\r\n\t\tapi\r\n\t\t\t.setUser(inputsValues)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCurrentUser(res);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleUpdateAvatar(newAvatar) {\r\n\t\tapi\r\n\t\t\t.setUserAvatar(newAvatar)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCurrentUser(res);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleCardLike(card, isLiked) {\r\n\t\t(!isLiked ? api.setLikeCard(card._id) : api.deleteLikeCard(card._id))\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\tconst newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleCardDelete(card) {\r\n\t\tsetIsConfirmDeletePopupOpen(true);\r\n\t\tsetCardToDelete(card);\r\n\t}\r\n\r\n\tfunction handleAddPlaceSubmit(inputsValues) {\r\n\t\tapi\r\n\t\t\t.setNewCard(inputsValues)\r\n\t\t\t.then((newCard) => {\r\n\t\t\t\tsetCards([ newCard, ...cards ]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleDeleteCardSubmit() {\r\n\t\tapi\r\n\t\t\t.deleteCard(cardToDelete._id)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst newCards = cards.filter((c) => c._id !== cardToDelete._id);\r\n\t\t\t\tsetCards(newCards);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tcloseAllPopups();\r\n\t\t\t\tsetCardToDelete({});\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"root\">\r\n\t\t\t<div className=\"page\">\r\n\t\t\t\t<CurrentUserContext.Provider value={currentUser}>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Main\r\n\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\r\n\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\r\n\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\r\n\t\t\t\t\t\tonCardClick={handleCardClick}\r\n\t\t\t\t\t\tcards={cards}\r\n\t\t\t\t\t\tonCardLike={handleCardLike}\r\n\t\t\t\t\t\tonCardDelete={handleCardDelete}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Footer />\r\n\t\t\t\t\t<ImagePopup\r\n\t\t\t\t\t\tcard={selectedCard}\r\n\t\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\t\tisOpen={isImagePopupOpen}\r\n\t\t\t\t\t\tonEscClose={handleClick}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<EditProfilePopup\r\n\t\t\t\t\t\tisOpen={isEditProfilePopupOpen}\r\n\t\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\t\tonEscClose={handleClick}\r\n\t\t\t\t\t\tonUpdateUser={handleUpdateUser}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<EditAvatarPopup\r\n\t\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\r\n\t\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\t\tonEscClose={handleClick}\r\n\t\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ConfirmDeletePopup\r\n\t\t\t\t\t\tisOpen={isConfirmDeletePopupOpen}\r\n\t\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\t\tonEscClose={handleClick}\r\n\t\t\t\t\t\tonDeleteCard={handleDeleteCardSubmit}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<AddPlacePopup\r\n\t\t\t\t\t\tisOpen={isAddPlacePopupOpen}\r\n\t\t\t\t\t\tonClose={closeAllPopups}\r\n\t\t\t\t\t\tonEscClose={handleClick}\r\n\t\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CurrentUserContext.Provider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}